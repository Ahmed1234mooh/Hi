# دفتر زبائن اللبن - Milk Customer Portal

نظام إدارة زبائن اللبن اليومي محول من React/Next.js إلى HTML/PHP/JavaScript مع تخزين JSON.

## المميزات

### 🏠 الصفحة الرئيسية
- واجهة عربية بتصميم جذاب
- التنقل بين اللفات الصباحية والمسائية
- إدارة الزبائن والتقارير المالية

### 👥 إدارة الزبائن
- إضافة وتعديل وحذف الزبائن
- تحديد أسعار اللبن الجاموسي والبقري لكل زبون
- ترتيب الزبائن بالسحب والإفلات

### 📋 اللفات اليومية
- تسجيل كميات اللبن للفات الصباحية والمسائية
- حفظ تلقائي للبيانات
- بحث وتصفية الزبائن
- حساب المجاميع الفورية

### 📊 التقارير المالية
- ملخص أسبوعي للمبيعات
- حساب المستحقات لكل زبون
- أرشفة الأسابيع المكتملة
- عرض الإحصائيات الشاملة

## التقنيات المستخدمة

### Frontend
- **HTML5** - هيكل الصفحات
- **CSS3** - التصميم والتنسيق
- **JavaScript ES6+** - التفاعل والوظائف
- **Tailwind CSS** - إطار عمل CSS
- **Lucide Icons** - الأيقونات
- **SortableJS** - السحب والإفلات

### Backend
- **PHP 7.4+** - معالجة البيانات
- **JSON** - تخزين البيانات
- **REST API** - واجهات برمجة التطبيقات

## هيكل المشروع

\`\`\`
├── index.html              # الصفحة الرئيسية
├── customers.html          # إدارة الزبائن
├── daily-round.html        # اللفات اليومية
├── reports.html            # التقارير المالية
├── api/
│   ├── config.php          # إعدادات PHP والوظائف المساعدة
│   ├── customers.php       # API إدارة الزبائن
│   ├── daily-rounds.php    # API اللفات اليومية
│   └── reports.php         # API التقارير
├── js/
│   ├── api.js              # عميل API للتواصل مع الخادم
│   └── utils.js            # وظائف مساعدة
├── css/
│   └── styles.css          # أنماط CSS مخصصة
└── data/                   # مجلد تخزين ملفات JSON
    ├── customers.json      # بيانات الزبائن
    ├── daily_rounds.json   # بيانات اللفات اليومية
    └── archived_weeks.json # الأسابيع المؤرشفة
\`\`\`

## التثبيت والتشغيل

### المتطلبات
- خادم ويب يدعم PHP 7.4+
- متصفح حديث يدعم ES6+

### خطوات التثبيت

1. **رفع الملفات**
   \`\`\`bash
   # رفع جميع الملفات إلى مجلد الخادم
   cp -r * /var/www/html/milk-portal/
   \`\`\`

2. **تعيين الصلاحيات**
   \`\`\`bash
   # إعطاء صلاحيات الكتابة لمجلد البيانات
   chmod 755 data/
   chmod 666 data/*.json
   \`\`\`

3. **تشغيل النظام**
   - افتح المتصفح وانتقل إلى: `http://localhost/milk-portal/`

## الاستخدام

### إضافة زبون جديد
1. انتقل إلى "إدارة الزبائن"
2. اضغط "إضافة زبون"
3. أدخل اسم الزبون وأسعار اللبن
4. اضغط "إضافة"

### تسجيل لفة يومية
1. اختر "اللفة الصباحية" أو "المسائية"
2. حدد التاريخ المطلوب
3. أدخل كميات اللبن لكل زبون
4. البيانات تُحفظ تلقائياً

### عرض التقارير
1. انتقل إلى "صفي"
2. تصفح الأسابيع المختلفة
3. اعرض المجاميع والتفاصيل
4. أرشف الأسابيع المكتملة

## المميزات التقنية

### الأمان
- تنظيف البيانات المدخلة
- التحقق من صحة البيانات
- حماية من هجمات XSS

### الأداء
- تحميل البيانات بشكل غير متزامن
- حفظ تلقائي ذكي
- تحسين استعلامات البيانات

### سهولة الاستخدام
- واجهة عربية كاملة
- تصميم متجاوب لجميع الأجهزة
- رسائل تأكيد وتنبيه واضحة

## الدعم والصيانة

### النسخ الاحتياطي
\`\`\`bash
# نسخ احتياطي لبيانات JSON
cp -r data/ backup/data-$(date +%Y%m%d)/
\`\`\`

### تحديث البيانات
- جميع البيانات محفوظة في ملفات JSON
- يمكن تعديلها مباشرة أو عبر الواجهة
- النظام يدعم الاستيراد والتصدير

### استكشاف الأخطاء
- تحقق من صلاحيات مجلد `data/`
- راجع سجلات أخطاء PHP
- تأكد من تفعيل JavaScript في المتصفح

## الترخيص

هذا المشروع مفتوح المصدر ومتاح للاستخدام والتطوير.

---

تم تطوير هذا النظام لإدارة أعمال بيع اللبن بطريقة حديثة وفعالة مع الحفاظ على البساطة في الاستخدام.
